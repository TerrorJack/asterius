#!/bin/sh -e

ahc-cabal v1-update

ahc-cabal v1-install -j --keep-going --minimize-conflict-set --prefix=$ASTERIUS_LIB_DIR --package-db=clear --package-db=global Cabal
ahc-cabal v1-install -j --keep-going --minimize-conflict-set --prefix=$ASTERIUS_LIB_DIR --package-db=clear --package-db=global \
  backprop \
  base64-bytestring-type \
  binary-tagged \
  cassava-megaparsec \
  cborg-json \
  cheapskate-highlight \
  cheapskate-lucid \
  cmark \
  cmark-gfm \
  composition-extra \
  concurrency \
  concurrent-extra \
  concurrent-supply \
  contravariant-extras \
  control-monad-free \
  criterion \
  dimensional \
  distributed-closure \
  do-notation \
  doctemplates \
  Earley \
  elerea \
  free-vl \
  freer-simple \
  frisby \
  fused-effects \
  gauge \
  general-games \
  genvalidity-aeson \
  genvalidity-bytestring \
  genvalidity-containers \
  genvalidity-hspec-aeson \
  genvalidity-hspec-binary \
  genvalidity-hspec-cereal \
  genvalidity-hspec-hashable \
  genvalidity-hspec-optics \
  genvalidity-path \
  genvalidity-property \
  genvalidity-time \
  genvalidity-uuid \
  ginger \
  graphite \
  HaTeX \
  http-client-tls \
  integration \
  JuicyPixels-extra \
  lift-generics \
  markdown \
  megaparsec-tests \
  microlens-platform \
  operational-class \
  persistent-iproute \
  persistent-typed-db \
  pipes-attoparsec \
  pipes-concurrency \
  pipes-csv \
  pipes-parse \
  pipes-random \
  pipes-safe \
  polysemy \
  pooled-io \
  qrcode-juicypixels \
  quickcheck-arbitrary-adt \
  quickcheck-simple \
  quickcheck-special \
  quickcheck-text \
  quickcheck-transformer \
  quickcheck-unicode \
  records-sop \
  regex-applicative-text \
  regex-compat-tdfa \
  relational-schemas \
  rio-orphans \
  rio-prettyprint \
  rvar \
  safe-money \
  selda-json \
  shake \
  skylighting \
  streaming-attoparsec \
  streaming-bytestring \
  streaming-cassava \
  streaming-commons \
  streamly \
  swish \
  tagsoup \
  tardis \
  tasty-ant-xml \
  tasty-discover \
  tasty-expected-failure \
  tasty-hspec \
  tasty-hunit \
  tasty-kat \
  tasty-leancheck \
  test-framework-hunit \
  test-framework-leancheck \
  test-framework-quickcheck2 \
  test-framework-smallcheck \
  texmath \
  th-desugar \
  th-nowq \
  th-printf \
  th-strict-compat \
  th-test-utils \
  th-utilities \
  tree-diff \
  tuple-sop \
  unification-fd \
  urlpath

rm -rf ~/.cabal
