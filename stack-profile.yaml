apply-ghc-options: everything
rebuild-ghc-options: true
ghc-options:
  "$everything": -fno-prof-auto
build:
  library-profiling: true
  executable-profiling: true

resolver: lts-16.13
compiler: ghc-8.8.4
extra-deps:
  - binaryen-0.0.3.0
  - url: https://github.com/tweag/inline-js/archive/bd488387d4f3d89e1d21daa3685cad9b2154cde8.tar.gz
    subdirs:
      - inline-js-core
packages:
  - asterius
  - ghc-toolkit
  - wasm-toolkit


ghc-variant: asterius

setup-info:
  ghc:
    linux64-custom-asterius-tinfo6:
      8.8.4:
        url: https://github.com/TerrorJack/ghc/releases/download/ghc-8.8.4-200908/ghc-8.8.4-linux64-tinfo6-200908.tar.xz
        content-length: 157527840
        sha256: f3c41a633afce6726b8b0a8fc80ac988b22fa014719d8fa3096982985fd6d329
    linux64-custom-asterius:
      8.8.4:
        url: https://github.com/TerrorJack/ghc/releases/download/ghc-8.8.4-200908/ghc-8.8.4-linux64-standard-200908.tar.xz
        content-length: 159125920
        sha256: 70eb52e0ee9bcb1ab85862deb2b41ea48abb9e6ccfc201d650a6ae0e48797784
    linux64-custom-asterius-musl:
      8.8.4:
        url: https://github.com/TerrorJack/ghc/releases/download/ghc-8.8.4-200908/ghc-8.8.4-linux64-musl-200908.tar.xz
        content-length: 169372216
        sha256: 432d4a65c33961ef74ee8bd63ab9121cdbb75b0d23e3a7b63d8933228ee111f1
    macosx-custom-asterius:
      8.8.4:
        url: https://github.com/TerrorJack/ghc/releases/download/ghc-8.8.4-200908/ghc-8.8.4-macosx-200908.tar.xz
        content-length: 170733916
        sha256: 03e2e4dedfabc4b2c8eacb3ff6c1b29d658543c4f9af01c4715ad6b5161f2cf3
    windows64-custom-asterius:
      8.8.4:
        url: https://github.com/TerrorJack/ghc/releases/download/ghc-8.8.4-200908/ghc-8.8.4-windows64-200908.tar.xz
        content-length: 186533012
        sha256: 3c0fa1b2901b49ee12fddb911fd1ba8f78f567972cb3fe16b1a862ec72ac633e
